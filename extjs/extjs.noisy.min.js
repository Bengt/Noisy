Ext.override(Ext.Element,{noisy:function(b){var b=Ext.apply({intensity:0.9,size:200,opacity:0.08,fallback:"",monochrome:!1},b),a;window.JSON&&localStorage.getItem&&(a=localStorage.getItem(window.JSON.stringify(b)));if(!a){a=document.createElement("canvas");if(a.getContext){a.width=a.height=b.size;for(var f=a.getContext("2d"),c=f.createImageData(a.width,a.height),g=b.intensity*Math.pow(b.size,2),h=255*b.opacity;g--;){var d=~~(Math.random()*a.width),e=~~(Math.random()*a.height),d=(d+e*c.width)*4,e=
g%255;c.data[d]=e;c.data[d+1]=b.monochrome?e:~~(Math.random()*255);c.data[d+2]=b.monochrome?e:~~(Math.random()*255);c.data[d+3]=~~(Math.random()*h)}f.putImageData(c,0,0);a=a.toDataURL("image/png");if(a.indexOf("data:image/png")!=0||$.browser.msie&&$.browser.version.substr(0,1)<9&&a.length>32768)a=b.fallback}else a=b.fallback;JSON&&localStorage&&localStorage.setItem(JSON.stringify(b),a)}return this.setStyle("background-image","url("+a+")")}});